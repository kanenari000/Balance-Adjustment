(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{342:function(t,e,n){var r=n(55),o=n(241);t.exports=r?o:function(t){return Map.prototype.entries.call(t)}},344:function(t,e,n){"use strict";var r=n(361),o=n(362);t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},345:function(t,e,n){"use strict";var r=n(4),o=n(55),c=n(363);r({target:"Map",proto:!0,real:!0,forced:o},{deleteAll:function(){return c.apply(this,arguments)}})},346:function(t,e,n){"use strict";var r=n(4),o=n(55),c=n(22),h=n(79),l=n(342),f=n(237);r({target:"Map",proto:!0,real:!0,forced:o},{every:function(t){var map=c(this),e=l(map),n=h(t,arguments.length>1?arguments[1]:void 0,3);return!f(e,(function(t,e,r){if(!n(e,t,map))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},347:function(t,e,n){"use strict";var r=n(4),o=n(55),c=n(56),h=n(22),l=n(80),f=n(79),v=n(139),d=n(342),m=n(237);r({target:"Map",proto:!0,real:!0,forced:o},{filter:function(t){var map=h(this),e=d(map),n=f(t,arguments.length>1?arguments[1]:void 0,3),r=new(v(map,c("Map"))),o=l(r.set);return m(e,(function(t,e){n(e,t,map)&&o.call(r,t,e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r}})},348:function(t,e,n){"use strict";var r=n(4),o=n(55),c=n(22),h=n(79),l=n(342),f=n(237);r({target:"Map",proto:!0,real:!0,forced:o},{find:function(t){var map=c(this),e=l(map),n=h(t,arguments.length>1?arguments[1]:void 0,3);return f(e,(function(t,e,r){if(n(e,t,map))return r(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},349:function(t,e,n){"use strict";var r=n(4),o=n(55),c=n(22),h=n(79),l=n(342),f=n(237);r({target:"Map",proto:!0,real:!0,forced:o},{findKey:function(t){var map=c(this),e=l(map),n=h(t,arguments.length>1?arguments[1]:void 0,3);return f(e,(function(t,e,r){if(n(e,t,map))return r(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},350:function(t,e,n){"use strict";var r=n(4),o=n(55),c=n(22),h=n(342),l=n(364),f=n(237);r({target:"Map",proto:!0,real:!0,forced:o},{includes:function(t){return f(h(c(this)),(function(e,n,r){if(l(n,t))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},351:function(t,e,n){"use strict";var r=n(4),o=n(55),c=n(22),h=n(342),l=n(237);r({target:"Map",proto:!0,real:!0,forced:o},{keyOf:function(t){return l(h(c(this)),(function(e,n,r){if(n===t)return r(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},352:function(t,e,n){"use strict";var r=n(4),o=n(55),c=n(56),h=n(22),l=n(80),f=n(79),v=n(139),d=n(342),m=n(237);r({target:"Map",proto:!0,real:!0,forced:o},{mapKeys:function(t){var map=h(this),e=d(map),n=f(t,arguments.length>1?arguments[1]:void 0,3),r=new(v(map,c("Map"))),o=l(r.set);return m(e,(function(t,e){o.call(r,n(e,t,map),e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r}})},353:function(t,e,n){"use strict";var r=n(4),o=n(55),c=n(56),h=n(22),l=n(80),f=n(79),v=n(139),d=n(342),m=n(237);r({target:"Map",proto:!0,real:!0,forced:o},{mapValues:function(t){var map=h(this),e=d(map),n=f(t,arguments.length>1?arguments[1]:void 0,3),r=new(v(map,c("Map"))),o=l(r.set);return m(e,(function(t,e){o.call(r,t,n(e,t,map))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r}})},354:function(t,e,n){"use strict";var r=n(4),o=n(55),c=n(22),h=n(80),l=n(237);r({target:"Map",proto:!0,real:!0,forced:o},{merge:function(t){for(var map=c(this),e=h(map.set),i=0;i<arguments.length;)l(arguments[i++],e,{that:map,AS_ENTRIES:!0});return map}})},355:function(t,e,n){"use strict";var r=n(4),o=n(55),c=n(22),h=n(80),l=n(342),f=n(237);r({target:"Map",proto:!0,real:!0,forced:o},{reduce:function(t){var map=c(this),e=l(map),n=arguments.length<2,r=n?void 0:arguments[1];if(h(t),f(e,(function(e,o){n?(n=!1,r=o):r=t(r,o,e,map)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),n)throw TypeError("Reduce of empty map with no initial value");return r}})},356:function(t,e,n){"use strict";var r=n(4),o=n(55),c=n(22),h=n(79),l=n(342),f=n(237);r({target:"Map",proto:!0,real:!0,forced:o},{some:function(t){var map=c(this),e=l(map),n=h(t,arguments.length>1?arguments[1]:void 0,3);return f(e,(function(t,e,r){if(n(e,t,map))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},357:function(t,e,n){"use strict";var r=n(4),o=n(55),c=n(22),h=n(80);r({target:"Map",proto:!0,real:!0,forced:o},{update:function(t,e){var map=c(this),n=arguments.length;h(e);var r=map.has(t);if(!r&&n<3)throw TypeError("Updating absent value");var o=r?map.get(t):h(n>2?arguments[2]:void 0)(t,map);return map.set(t,e(o,t,map)),map}})},361:function(t,e,n){"use strict";var r=n(4),o=n(15),c=n(107),h=n(40),l=n(239),f=n(237),v=n(140),d=n(26),m=n(11),S=n(175),I=n(83),R=n(179);t.exports=function(t,e,n){var w=-1!==t.indexOf("Map"),y=-1!==t.indexOf("Weak"),T=w?"set":"add",E=o[t],k=E&&E.prototype,N=E,x={},_=function(t){var e=k[t];h(k,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(y&&!d(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!d(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!d(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(c(t,"function"!=typeof E||!(y||k.forEach&&!m((function(){(new E).entries().next()})))))N=n.getConstructor(e,t,w,T),l.REQUIRED=!0;else if(c(t,!0)){var M=new N,L=M[T](y?{}:-0,1)!=M,A=m((function(){M.has(1)})),P=S((function(t){new E(t)})),O=!y&&m((function(){for(var t=new E,e=5;e--;)t[T](e,e);return!t.has(-0)}));P||((N=e((function(e,n){v(e,N,t);var r=R(new E,e,N);return null!=n&&f(n,r[T],{that:r,AS_ENTRIES:w}),r}))).prototype=k,k.constructor=N),(A||O)&&(_("delete"),_("has"),w&&_("get")),(O||L)&&_(T),y&&k.clear&&delete k.clear}return x[t]=N,r({global:!0,forced:N!=E},x),I(N,t),y||n.setStrong(N,t,w),N}},362:function(t,e,n){"use strict";var r=n(37).f,o=n(82),c=n(177),h=n(79),l=n(140),f=n(237),v=n(176),d=n(178),m=n(32),S=n(239).fastKey,I=n(65),R=I.set,w=I.getterFor;t.exports={getConstructor:function(t,e,n,v){var d=t((function(t,r){l(t,d,e),R(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),m||(t.size=0),null!=r&&f(r,t[v],{that:t,AS_ENTRIES:n})})),I=w(e),y=function(t,e,n){var r,o,c=I(t),h=T(t,e);return h?h.value=n:(c.last=h={index:o=S(e,!0),key:e,value:n,previous:r=c.last,next:void 0,removed:!1},c.first||(c.first=h),r&&(r.next=h),m?c.size++:t.size++,"F"!==o&&(c.index[o]=h)),t},T=function(t,e){var n,r=I(t),o=S(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return c(d.prototype,{clear:function(){for(var t=I(this),data=t.index,e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=void 0),delete data[e.index],e=e.next;t.first=t.last=void 0,m?t.size=0:this.size=0},delete:function(t){var e=this,n=I(e),r=T(e,t);if(r){var o=r.next,c=r.previous;delete n.index[r.index],r.removed=!0,c&&(c.next=o),o&&(o.previous=c),n.first==r&&(n.first=o),n.last==r&&(n.last=c),m?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=I(this),r=h(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!T(this,t)}}),c(d.prototype,n?{get:function(t){var e=T(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),m&&r(d.prototype,"size",{get:function(){return I(this).size}}),d},setStrong:function(t,e,n){var r=e+" Iterator",o=w(e),c=w(r);v(t,e,(function(t,e){R(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=c(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),d(e)}}},363:function(t,e,n){"use strict";var r=n(22),o=n(80);t.exports=function(){for(var t,e=r(this),n=o(e.delete),c=!0,h=0,l=arguments.length;h<l;h++)t=n.call(e,arguments[h]),c=c&&t;return!!c}},364:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},366:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(23),o=n(38),c=function(){function t(e,n,o,c,h,l){Object(r.a)(this,t),this.strength=void 0,this.dexterity=void 0,this.defense=void 0,this.intelligence=void 0,this.preemption=void 0,this.speed=void 0,this.strength=e,this.dexterity=n,this.defense=o,this.intelligence=c,this.preemption=h,this.speed=l}return Object(o.a)(t,[{key:"addCharaStatus",value:function(t,e,n,r,o,c){this.strength+=t,this.dexterity+=e,this.defense+=n,this.intelligence+=r,this.preemption+=o,this.speed+=c}},{key:"resetCharaStatus",value:function(){this.strength=1,this.dexterity=1,this.defense=1,this.intelligence=1,this.preemption=1,this.speed=1}},{key:"toCsvStr",value:function(){return this.strength+","+this.dexterity+","+this.defense+","+this.intelligence+","+this.preemption+","+this.speed+","}}]),t}()},380:function(t,e,n){n(4)({target:"Object",stat:!0},{is:n(242)})},381:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(23),o=n(38),c=function(){function t(){Object(r.a)(this,t),this.weaponSet=void 0,this.materialSet=void 0,this.shopWeaponSet=void 0,this.shopRateStage=void 0,this.shopValueStage=void 0,this.shopLimitStage=void 0,this.mapTypeSelect=void 0,this.trainingSelect=void 0,this.searchSelect=void 0,this.weaponProgress=void 0,this.resetResultSet()}return Object(o.a)(t,[{key:"resetResultSet",value:function(){this.weaponSet={"刀剣":[0,0,0,0,0,0],"長柄":[0,0,0,0,0,0],"魔法":[0,0,0,0,0,0],"射撃":[0,0,0,0,0,0],"打撃":[0,0,0,0,0,0]},this.materialSet={"金属":[0,0,0],"木材":[0,0,0],"皮革":[0,0,0]},this.shopWeaponSet={"刀剣":[0,0,0,0,0,0],"長柄":[0,0,0,0,0,0],"魔法":[0,0,0,0,0,0],"射撃":[0,0,0,0,0,0],"打撃":[0,0,0,0,0,0]},this.shopRateStage={"空調":0,"清掃用具":0},this.shopValueStage={"一品物陳列棚":0,"置物":0},this.shopLimitStage={"広告":[!1,!1,!1,!1],"イベントスペース":[!1,!1,!1,!1]},this.mapTypeSelect={"無色":0,"青":0,"黄":0,"赤":0,"濃赤":0},this.trainingSelect={"刀剣":0,"長柄":0,"魔法":0,"射撃":0,"打撃":0},this.searchSelect={"刀剣":0,"長柄":0,"魔法":0,"射撃":0,"打撃":0},this.weaponProgress={"刀剣":[0,0,0,0,0,0],"長柄":[0,0,0,0,0,0],"魔法":[0,0,0,0,0,0],"射撃":[0,0,0,0,0,0],"打撃":[0,0,0,0,0,0]}}},{key:"toCsvStr",value:function(){for(var t="",e=["刀剣","長柄","魔法","射撃","打撃"],n=["金属","木材","皮革"],i=0;i<5;i++)for(var r=0;r<6;r++)t+=String(this.weaponSet[e[i]][r])+",";for(var o=0;o<3;o++)for(var c=0;c<3;c++)t+=String(this.materialSet[n[o]][c])+",";for(var h=0;h<5;h++)for(var l=0;l<6;l++)t+=String(this.shopWeaponSet[e[h]][l])+",";t+=String(this.shopRateStage["空調"])+","+String(this.shopRateStage["清掃用具"])+",",t+=String(this.shopValueStage["一品物陳列棚"])+","+String(this.shopValueStage["置物"])+",";for(var f=0;f<4;f++)t+=String(this.shopLimitStage["広告"][f])+",";for(var v=0;v<4;v++)t+=String(this.shopLimitStage["イベントスペース"][v])+",";return t}},{key:"toCsvHeader",value:function(){for(var t="",e=["刀剣","長柄","魔法","射撃","打撃"],n=["金属","木材","皮革"],i=0;i<5;i++)for(var r=0;r<6;r++)t+="所持数_"+e[i]+"Lv"+r+",";for(var o=0;o<3;o++)for(var c=0;c<3;c++)t+="所持数_"+n[o]+"Lv"+[c]+",";for(var h=0;h<5;h++)for(var l=0;l<6;l++)t+="陳列数_"+e[h]+"Lv"+[l]+",";t+="空調Lv,清掃用具Lv,",t+="一品物陳列棚Lv,置物Lv,";for(var f=0;f<4;f++)t+="広告Lv"+f+",";for(var v=0;v<4;v++)t+="イベントスペースLv"+v+",";return t}}]),t}()},415:function(t,e,n){"use strict";var r=n(32),o=n(93),c=n(46),h=n(36),l=n(37).f;r&&!("lastItem"in[])&&(l(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=c(this),e=h(t.length);return 0==e?void 0:t[e-1]},set:function(t){var e=c(this),n=h(e.length);return e[0==n?0:n-1]=t}}),o("lastItem"))},428:function(t,e,n){"use strict";n.r(e);n(25),n(7),n(51);var r=n(23),o=function t(e,n){Object(r.a)(this,t),this.rate=void 0,this.eventType=void 0,this.isActive=void 0,this.rate=e,this.eventType=n,this.isActive=!1},c=n(366),h=n(381),l={data:function(){return{model:null,mapList:[],nowPoint:0,comboTime:0,weaponRank:[0,1,2,3,4,5],selectRank:0}},props:{weaponName:String,playId:Number,childcomboId:Number,isSearch:Boolean,diceNum:Number,configItem:Object,resultItems:h.a,isBattle:Boolean},methods:{makeMap:function(){var t=["blue","yellow darken-1","red","#8b0000","grey"],e=0;this.nowPoint=0,this.mapList=[];for(var i=0;i<this.configItem.typeRateList.length;i++)e+=this.configItem.typeRateList[i];this.mapList.push(new o(1,"grey"));for(i=0;i<35;i++)for(var n=this.configItem.mapRateList,r=0;r<8;r++){for(var c=Math.round(Math.random()*e),h=0,l=0;l<t.length;l++){if(c<this.configItem.typeRateList[l]){h=l;break}c-=this.configItem.typeRateList[l]}var f=Math.floor(Math.random()*n.length),v=new o(n[f],t[h]);n=n.filter((function(t,e){return e!==f})),this.mapList.push(v)}this.mapList[this.nowPoint].isActive=!0},playDice:function(t){var e=this;if(0!=this.diceNum&&0!=this.mapList.length){this.makeWeapons(t);var n=this.manageStatus();this.mapList[this.nowPoint].isActive=!1,this.nowPoint+=this.diceNum,this.mapList[this.nowPoint].isActive=!0,this.model=this.nowPoint;var r={blue:"青","yellow darken-1":"黄",red:"赤","#8b0000":"濃赤",grey:"無色"}[this.mapList[this.nowPoint].eventType];this.resultItems.mapTypeSelect[r]++,this.isSearch?this.resultItems.searchSelect[this.weaponName]++:this.resultItems.trainingSelect[this.weaponName]++;var o=t?"量産,":"一品,",c=this.weaponName+","+this.selectRank+","+o+r+","+this.mapList[this.nowPoint].rate+",";setTimeout((function(){e.$emit("setCharaStatus",n),e.$emit("setResult",e.resultItems),e.$emit("passedDays",{playId:e.playId,csvStr:c})}),10)}},manageStatus:function(){this.childcomboId==this.playId?this.comboTime++:this.comboTime=0;var t=1,e=null,n=null;this.isSearch?((t+=this.configItem.searchInfo.combo.rate*this.comboTime)>this.configItem.searchInfo.combo.max&&(t=this.configItem.searchInfo.combo.max),this.getMaterials(t),e=this.configItem.searchInfo.status[this.weaponName],n=this.configItem.searchInfo.statusCorrection[this.weaponName]):((t+=this.configItem.trainingInfo.combo.rate*this.comboTime)>this.configItem.trainingInfo.combo.max&&(t=this.configItem.trainingInfo.combo.max),e=this.configItem.trainingInfo.status[this.weaponName],n=this.configItem.trainingInfo.statusCorrection[this.weaponName]);var r=this.configItem.statusCorrection,o=this.calcStatus(e.strength,n.strength,t,r.strength),h=this.calcStatus(e.dexterity,n.dexterity,t,r.dexterity),l=this.calcStatus(e.defense,n.defense,t,r.defense),f=this.calcStatus(e.intelligence,n.intelligence,t,r.intelligence),pre=this.calcStatus(e.preemption,n.preemption,t,r.preemption),v=this.calcStatus(e.speed,n.speed,t,r.speed);return new c.a(o,h,l,f,pre,v)},calcStatus:function(t,e,n,r){return Math.ceil((t+Math.floor(Math.random()*Math.floor(e)))*n*this.mapList[this.nowPoint].rate*r)*this.diceNum},getMaterials:function(t){for(var e=this.configItem.searchInfo.materials[this.weaponName][this.selectRank].materialList,n=this.configItem.searchInfo.materialsCorrection[this.weaponName][this.selectRank].materialList,r=["金属","木材","皮革"],i=0;i<3;i++)for(var o=0;o<3;o++)this.resultItems.materialSet[r[i]][o]+=this.calcStatus(e[r[i]][o],n[r[i]][o],t,1)},makeWeapons:function(t){var e=this,n=0;if(t)for(var i=0;i<this.diceNum&&this.subMaterials(t);i++)n++;else 0==this.resultItems.weaponProgress[this.weaponName][this.selectRank]&&this.subMaterials(t),this.resultItems.weaponProgress[this.weaponName][this.selectRank]+=this.diceNum,this.resultItems.weaponProgress[this.weaponName][this.selectRank]>=this.configItem.weaponProgress&&(this.resultItems.weaponProgress[this.weaponName][this.selectRank]=0,n++);setTimeout((function(){e.resultItems.weaponSet[e.weaponName][e.selectRank]+=n}),1)},subMaterials:function(t){for(var e=["金属","木材","皮革"],n=this.configItem.weaponsInfoList[this.weaponName][this.selectRank].recipe,r=t?1:5,o=0;o<3;o++)for(var c=0;c<3;c++)if(this.resultItems.materialSet[e[c]][o]-=n[e[c]][o]*r,this.resultItems.materialSet[e[c]][o]<0)return this.resultItems.materialSet[e[c]][o]+=n[e[c]][o]*r,!1;return!0},isOne:function(){if(this.isMassProduct())return!0;if(0==this.resultItems.weaponProgress[this.weaponName][this.selectRank]){for(var t=["金属","木材","皮革"],e=this.configItem.weaponsInfoList[this.weaponName][this.selectRank].recipe,n=this.resultItems.materialSet,r=0;r<3;r++)for(var o=0;o<3;o++)if(n[t[o]][r]-5*e[t[o]][r]<0)return!0;return!1}return!1},isMassProduct:function(){return this.isBattle||0==this.diceNum}}},f=n(81),v=n(106),d=n.n(v),m=n(188),S=n(358),I=n(378),R=n(163),w=n(379),y=n(174),T=n(477),E=n(63),k=n(450),N=n(479),component=Object(f.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-col",{attrs:{cols:"2"}},[n("v-row",[n("v-col",{attrs:{cols:"8"}},[t._v("\n        【"+t._s(t.weaponName)+"】\n        "),n("v-select",{attrs:{items:t.weaponRank,solo:"",label:"Rank","background-color":"black"},model:{value:t.selectRank,callback:function(e){t.selectRank=e},expression:"selectRank"}})],1),t._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-btn",{attrs:{color:"indigo",disabled:t.isMassProduct()},on:{click:function(e){return t.playDice(!0)}}},[t._v("\n          量産\n        ")]),t._v(" "),n("v-btn",{attrs:{color:"teal",disabled:t.isOne()},on:{click:function(e){return t.playDice(!1)}}},[t._v("\n          一品\n        ")])],1)],1)],1),t._v(" "),n("v-col",{attrs:{cols:"10"}},[n("v-sheet",{staticClass:"mx-auto"},[n("v-slide-group",{staticClass:"pa-4",attrs:{"center-active":"","show-arrows":""},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[t._l(t.mapList,(function(e,r){return[n("v-slide-item",{key:r},[n("v-card",{staticClass:"ma-4",attrs:{color:e.eventType,height:"50",width:"50"}},[t._v("\n              × "+t._s(e.rate)),n("br"),t._v(" "),n("v-scale-transition",[e.isActive?n("v-icon",{attrs:{color:"black",size:"20"},domProps:{textContent:t._s("mdi-map-marker")}}):t._e()],1)],1)],1)]}))],2)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{VBtn:m.a,VCard:S.a,VCol:I.a,VIcon:R.a,VRow:w.a,VScaleTransition:y.d,VSelect:T.a,VSheet:E.a,VSlideGroup:k.b,VSlideItem:N.a})}}]);